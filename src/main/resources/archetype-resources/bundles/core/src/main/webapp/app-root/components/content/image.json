{
  "jcr:primaryType": "cq:Component",
  "jcr:title": "Image",
  "componentGroup": "${projectName}",
#if ($optionWcmioHandler=='y')
  "cq:icon": "image",

  "cq:editConfig": {
    "jcr:primaryType": "cq:EditConfig",
    
    "cq:dropTargets": {
      "image": {
        "jcr:primaryType": "cq:DropTargetConfig",
        "accept": ["image/gif","image/jpeg","image/png"],
        "groups": ["media"],
        "propertyName": "./fileReference",
        "parameters": {
          "imageCrop": "",
          "imageMap": "",
          "imageRotate": ""
        }
      }
    },

    "cq:inplaceEditing": {
      "jcr:primaryType": "cq:InplaceEditingConfig",
      "active": true,
      "editorType": "image",
      "config": {
        
        /* Configure plugins for Image IPE */
        "plugins": {
          
          "crop": {
            "features": "*",
            "aspectRatios": {
              "wideLandscape": {
                "name": "Wide Landscape",
                "ratio": "0.6180"
              },
              "landscape": {
                "name": "Landscape",
                "ratio": "0.8284"
              },
              "square": {
                "name": "Square",
                "ratio": "1"
              },
              "portrait": {
                "name": "Portrait",
                "ratio": "1.6180"
              },
              "16-9": {
                "name": "16:9",
                "ratio": "0.5625"
              }
            }
          },
          
          "map": {
            "features": "*"
          },
          
          "rotate": {
            "features": "*"
          },
                    
          "zoom": {
            "features": "*"
          }
        },

        /* Configure UI: Which features should be displayed inline, which in fullscreen mode */
        "ui": {
          
          /* Toolbar items displayed in inline mode */
          "inline": {
            "toolbar": [
              "crop#launch",
              "rotate#right",
              "history#undo",
              "history#redo",
              "fullscreen#fullscreen",
              "control#close",
              "control#finish"
            ],
            "replacementToolbars": {
              "crop": [
                "crop#identifier",
                "crop#unlaunch",
                "crop#confirm"
              ]
            }
          },

          /* Toolbar items displayed in fullscreen mode*/
          "fullscreen": {
            "toolbar": {
              "left": [
                "crop#launchwithratio",
                "rotate#left",
                "rotate#right",
                "map#launch",
                "flip#horizontal",
                "flip#vertical",
                "zoom#reset100",
                "zoom#popupslider"
              ],
              "right": [
                "history#undo",
                "history#redo",
                "fullscreen#fullscreenexit"
              ]
            },
            
            /* Toolbars that are displayed instead of the main toolbar when the given plugin is active */
            "replacementToolbars": {
              "crop": {
                "left": [
                  "crop#identifier"
                ],
                "right": [
                  "crop#unlaunch", "crop#confirm"
                ]
              }
            }

          }
        }

      }
    }

  },

  "cq:dialog": {
    "jcr:primaryType": "nt:unstructured",
    "sling:resourceType": "cq/gui/components/authoring/dialog",
    "jcr:title": "Image",
    "content": {
      "sling:resourceType": "granite/ui/components/coral/foundation/container",
      "items": {
        "tabs": {
          "sling:resourceType": "granite/ui/components/coral/foundation/tabs",
          "items": {

            "media": {
              "sling:resourceType": "granite/ui/components/coral/foundation/include",
              "path": "${projectName}#if($optionMultiBundleLayout=='y')/core#end/components/global/include/mediaRefTab"
            }

          }
        }
      }
    }
  }
#else
  "sling:resourceSuperType": "core/wcm/components/image/v2/image"
#end
}
